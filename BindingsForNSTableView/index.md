---
layout: page
title: BindingsForNSTableView
---

   I'm currently working on an document based application using TableView , NSArrayController and bindings. Some of the data in the column headings are the result of using an operand to get the result. ( eg. column1 = statically typed =3, column2 = staticaly typed = 2, and column3 is the result of  method:  -(double)column3{return (double)(column1 + column2) which returns 5 (the sum of the two values).
      In the bindings info window for each column header the header is bound to: NSArrayController, controller key :arranged objects, and Model Key Path:Column1,2or3. Also using the setKeys init method outlined in the Currncy Converter tutorial is used to update the values. Basic stuff and everything works fine up to this point. When I go to use the result for column 3 for the next calculation for another column, it won't work. I'm not sure if the result in column3 is a read only value and if it is, how do you get it into a usable number???
        I'm also using another window, through KVO, who's textFields mirror the Tableview values, to enter values to the tableView and it also add new rows. The second problem is that the table won't update the programmed values until another blank row is added to the table. If I type the values directly into the table and hit enter the programed values update. I've set continuous update and validate in the bindings window but it still won't work.   How do you get the programmed values to update from entering data from another window????
DSG
Thanks for any help!!!!!!
 ----
Well, the first problem is **almost definitely** the lack of a "    -(void)setColumn3:(double)*newValue*" method. KVC works based on getters and setters, so the lack of a setter will make the column effectively read-only (for more info look at KeyValueCoding). Try going back and adding this method before doing anything else. The second problem is probably based on the controller object. If you are adding the new rows directly to the NSArrayController's content array, you have to first call     objectDidBeginEditing: on the controller, change the array, and finally call     objectDidEndEditing:. This basically "tells" the controller that you're changing the array yourself. If you are adding rows through NSArrayController's     addObject: method, it should be working. However, I've had trouble with this too, so try adding it directly (with the two extra calls), even though it is not as "clean" (at least to me). Even so, if anyone else (hint hint) has a better solution, please tell me and the OP. --JediKnil

Thanks for the help JediKnil
I have the setters and getter for the values that are typed in. The  programmed value and values that effect that value are set with the "init Column setKeys" into an NSArray and use the "triggerChangeNotificationForDependent key" method to update the value. The value is calculated in the getter method -(double)column3{return (double)(column1 + column2);}. I didn't think I needed a setter method because that is set in the init method. This gives me the read only value in the text field.
  I tired to establish the"-(void)setColumn:(double)x{ column =x;}" method for the calculated value and used the [self setcolumn3:0.00]; init method to set the default value. I also tried to set the setter method to -(NSNumber *)setColunm3 {NSNumber * sum; sum={columns valueForKeyPath:@"@column3"];} I'm not sure if the setter method is right though because it didn't make any difference. Same problem if I use the binding key Path "@sum.column3" - to get the sum of the column. It's a read only value as well. For setting the methods in the NSArrayController, do I have to create files for it. I'm using Bindings as the go between to bind the model to the view to eliminate the glue code etc.   I need to figure out how to use these calculated values in the calculation oF other values, how to reload the table without adding another row, and how to update some of the table values form the internet. I'm an older retired person and just started programming (about 2 months). I'm trying to develope an application for stock trading. I really  appreciate the help!! thanks again!!
DSG

